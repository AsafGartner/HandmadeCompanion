---
title: "Adding Support for Non-spatial Entities"
videoId: "vXPAE5UfcbA"
markers:
    "2:06": "Where we left off with simulation regions"
    "2:52": "Overview of limitation of simulation region - entities currently must have position"
    "4:40": "Adding sim_entity_flags"
    "8:35": "Updating code for moving collides member variable into a flag"
    "14:09": "Making the sword non-spatial"
    "16:51": "Handling non-spatial entities in MoveEntity"
    "18:59": "Handling non-spatial entities in BeginSim"
    "19:59": "Handling non-spatial entities in EndSim"
    "21:09": "Handling non-spatial entities in AddEntity/LoadEntityReference/GetSimSpaceP"
    "25:21": "Handling non-spatial entity in UpdateSword"
    "29:02": "Improving ChangeEntityLocation"
    "35:05": "Debugging GetWorldChunk assertion - problems with storing invalid positions and non-spatial flag"
    "39:31": "Fixing camera following logic"
    "40:54": "Fixing dZ of player"
    "43:03": "Fixing initial camera position"
    "44:33": "Restoring sword functionality"
    "46:39": "Why is the sword's shadow so dark? - Multiple swords"
    "50:21": "Guarding against having multiple entities in sim_region with same storage index"
    "57:23": "Preventing sword being reset when holding down key"
    "58:42": "Q&A"
    "1:00:06": "Does the current collision code support walls that are not 90 degrees?  Say if the wall is at 45 degrees, would the collision code still work?"
    "1:03:28": "Why not set a boolean value 'to be removed'?  It seems like setting the position to an arbitrary position isn't as explicit as setting a flag to say that the entity should be removed on the next update frame."
    "1:05:03": "The rearranging of code did [introduce] some errors into the code.  Is this normal for daily coding?"
    "1:08:17": "Do we expect most entities to be colliding?  If so, does it make sense to have the flag be 'non-colliding' instead?"
    "1:09:03": "Then why set null position?"
    "1:09:32": "Would using a tagged union for entity references fix issues we're having with LoadEntityReference?"
    "1:10:01": "Do you have the whole big picture game architecture in your head at every point, or do you have to check what you did from time to time?"
---
